<div class="dashboard-container">
  <!-- Sección para Alumnos -->
  <div *ngIf="sesion._rol === 'Alumno'" class="profile-dashboard">
    <!-- Card de Perfil -->
    <div class="profile-card">
      <div class="profile-info-container">
        <div class="profile-image-wrapper">
          <img
            [src]="sesion._foto || 'assets/default-avatar.png'"
            alt="Foto de perfil"
            (error)="handleImageError($event)"
          />
        </div>
        <div class="profile-details">
          <h1>{{ sesion._usuario }} {{ sesion._apellido }}</h1>
          <span class="role-tag student">{{ sesion._rol }}</span>
          <p class="specialty">{{ sesion._especialidad }}</p>
        </div>
      </div>
    </div>

    <div class="cards-grid">
      <!-- Card de Asistencia -->
      <div class="data-card attendance-card">
        <h3>Porcentaje de asistencia</h3>
        <div class="attendance-container">
          <div
            class="attendance-circle"
            (mouseenter)="showEmoji = true"
            (mouseleave)="showEmoji = false"
          >
            <div *ngIf="showEmoji" class="attendance-emoji">
              <i class="bx bx-smile"></i>
            </div>
            <div *ngIf="!showEmoji" class="attendance-percentage">
              {{ attendancePercentage }}%
            </div>
          </div>
        </div>
      </div>

      <!-- Card de Promedio -->
      <div class="data-card">
        <h3>Promedio General</h3>
        <div class="stat-content">
          <i class="bx bx-book"></i>
          <span class="stat-value">{{ stats.promedio }}</span>
        </div>
      </div>

      <!-- Card de Tareas -->
      <div class="data-card">
        <h3>Tareas Entregadas</h3>
        <div class="stat-content">
          <i class="bx bx-task"></i>
          <span class="stat-value">{{ stats.tareas }}%</span>
        </div>
      </div>
    </div>

    <!-- Card de Información -->
    <div class="info-card">
      <h2>Información Académica</h2>
      <div class="info-grid">
        <div class="info-item">
          <label>Número de Control</label>
          <span>
            {{ sesion._numeroControl }}
            <i
              class="bx bx-copy"
              [class.copied]="isCopied"
              (click)="copyToClipboard()"
              style="cursor: pointer"
            ></i>
          </span>
        </div>
        <div class="info-item">
          <label>Grupo</label>
          <span>{{ sesion._grupo }}</span>
        </div>
        <div class="info-item">
          <label>Semestre</label>
          <span>{{ sesion._semestre }}</span>
        </div>
        <div class="info-item">
          <label>Turno</label>
          <span>{{ sesion._turno }}</span>
        </div>
        <div class="info-item">
          <label>CURP</label>
          <span>{{ sesion._curp }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección para Profesores -->
  <div *ngIf="sesion._rol === 'Profesor'" class="profile-dashboard">
    <!-- Card de Perfil -->
    <div class="profile-card">
      <div class="profile-info-container">
        <div class="profile-image-wrapper">
          <img
            [src]="sesion._foto || 'assets/default-avatar.png'"
            alt="Foto de perfil"
            (error)="handleImageError($event)"
          />
        </div>
        <div class="profile-details">
          <h1>{{ sesion._usuario }} {{ sesion._apellido }}</h1>
          <span class="role-tag teacher">{{ sesion._rol }}</span>
          <p class="specialty">{{ sesion._especialidad }}</p>
        </div>
      </div>
    </div>

    <div class="cards-grid">
      <!-- Card de Grupos Activos -->
      <div class="data-card">
        <h3>Grupos Activos</h3>
        <div class="stat-content">
          <i class="bx bx-group"></i>
          <span class="stat-value">{{ teacherStats.gruposActivos }}</span>
        </div>
      </div>

      <!-- Card de Total Alumnos -->
      <div class="data-card">
        <h3>Total de Alumnos</h3>
        <div class="stat-content">
          <i class="bx bx-user-check"></i>
          <span class="stat-value">{{ teacherStats.alumnosTotal }}</span>
        </div>
      </div>
    </div>

    <!-- Card de Información -->
    <div class="info-card">
      <h2>Información Profesional</h2>
      <div class="info-grid">
        <div class="info-item">
          <label>ID Profesor</label>
          <span>{{ sesion._id_profesor }}</span>
        </div>
        <div class="info-item">
          <label>Departamento</label>
          <span>{{ sesion._departamento }}</span>
        </div>
        <div class="info-item">
          <label>Telefono</label>
          <span>{{ sesion._telefono }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección para Administradores -->
  <div *ngIf="sesion._rol === 'Administrador'" class="profile-dashboard">
    <!-- Card de Perfil -->
    <div class="profile-card">
      <div class="profile-info-container">
        <div class="profile-image-wrapper">
          <img
            [src]="sesion._foto || 'assets/default-avatar.png'"
            alt="Foto de perfil"
            (error)="handleImageError($event)"
          />
        </div>
        <div class="profile-details">
          <h1>{{ sesion._usuario }} {{ sesion._apellido }}</h1>
          <span class="role-tag admin">{{ sesion._rol }}</span>
          <p class="specialty">{{ sesion._especialidad }}</p>
        </div>
      </div>
    </div>

    <div class="cards-grid">
      <!-- Card de Usuarios Activos -->
      <div class="data-card">
        <h3>Usuarios Activos</h3>
        <div class="stat-content">
          <i class="bx bx-user-voice"></i>
          <span class="stat-value">{{ adminStats.usuariosActivos }}</span>
        </div>
      </div>

      <!-- Card de Uptime -->
      <div class="data-card">
        <h3>Uptime del Sistema</h3>
        <div class="stat-content">
          <i class="bx bx-timer"></i>
          <span class="stat-value">{{ adminStats.uptime }}%</span>
        </div>
      </div>
    </div>

    <!-- Card de Información -->
    <div class="info-card">
      <h2>Información Administrativa</h2>
      <div class="info-grid">
        <div class="info-item">
          <label>ID Administrador</label>
          <span>{{ sesion._numeroControl }}</span>
        </div>
        <div class="info-item">
          <label>Departamento</label>
          <span>{{ sesion._especialidad }}</span>
        </div>
        <div class="info-item">
          <label>Nivel de Acceso</label>
          <span>Total</span>
        </div>
      </div>
    </div>
  </div>
</div>
